# APIé€šä¿¡ï¼ˆãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡ãƒ»ãƒ‡ãƒ¼ã‚¿å–å¾—ï¼‰

## ğŸ¯ ç›®çš„

Next.js ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§å¤–éƒ¨ãƒ»å†…éƒ¨APIã¨é€£æºã™ã‚‹ãŸã‚ã«ã€  
API Routes ã®ä½œæˆã€ãƒ•ã‚©ãƒ¼ãƒ ã®é€ä¿¡ï¼ˆPOSTï¼‰ã€ãƒ‡ãƒ¼ã‚¿å–å¾—ï¼ˆGETï¼‰ã‚’å­¦ã¶ã€‚

---

## ğŸ¯ ä»Šé€±ã®ã‚´ãƒ¼ãƒ«

- Next.js ã® API Routes ã‚’ä½œæˆã—ã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å‡¦ç†ã‚’å®šç¾©ã§ãã‚‹
- `fetch` ã‚’ä½¿ã£ã¦ãƒ•ã‚©ãƒ¼ãƒ å†…å®¹ã‚’é€ä¿¡ã§ãã‚‹
- SWR ã‚’ä½¿ã£ã¦ API ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã¦è¡¨ç¤ºã§ãã‚‹
- ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ»ã‚¨ãƒ©ãƒ¼ãƒ»æˆåŠŸæ™‚ã®çŠ¶æ…‹ã‚’ç®¡ç†ã§ãã‚‹

---

## âœ… Next.js API Routes ã®ä½œæˆï¼ˆ/api/memosï¼‰

[ãƒªãƒ³ã‚¯](Next.js%20API%20Routes%20ã®ä½œæˆ.md)  

---

## âœ… fetch ã‚’ä½¿ã£ãŸãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡ï¼ˆPOSTï¼‰

[ãƒªãƒ³ã‚¯](fetch%20ã‚’ä½¿ã£ãŸãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡ï¼ˆPOSTï¼‰.md)  

---

## âœ… SWR ã‚’ä½¿ã£ãŸãƒ‡ãƒ¼ã‚¿å–å¾—ï¼ˆGETï¼‰

[ãƒªãƒ³ã‚¯](SWR%20ã‚’ä½¿ã£ãŸãƒ‡ãƒ¼ã‚¿å–å¾—ï¼ˆGETï¼‰.md)  

---

## âœ… æˆåŠŸãƒ»å¤±æ•—ãƒ»ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã®çŠ¶æ…‹åˆ¶å¾¡

[ãƒªãƒ³ã‚¯](ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ»ã‚¨ãƒ©ãƒ¼ãƒ»æˆåŠŸæ™‚ã®çŠ¶æ…‹åˆ¶å¾¡.md)  

---

## ğŸ”¹ èª²é¡Œå†…å®¹

ãƒ¡ãƒ¢ä¸€è¦§ãƒšãƒ¼ã‚¸ã§ã€APIã‹ã‚‰å–å¾—ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤ºã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

- ãƒ€ãƒŸãƒ¼APIï¼ˆä¾‹ï¼š`/api/memos`ï¼‰ã§ãƒ¡ãƒ¢ä¸€è¦§ã‚’è¿”ã™
- `useSWR` ã‚’ä½¿ã£ã¦ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ãƒ»ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°

---

## ğŸ”¹ å®Ÿè£…æ¡ä»¶

- `useSWR` ã‚’ä½¿ã£ã¦ `/api/memos` ã‚’å‘¼ã³å‡ºã™
- ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ä¸­ã¯ã€Œèª­ã¿è¾¼ã¿ä¸­...ã€ã‚’è¡¨ç¤º
- ã‚¨ãƒ©ãƒ¼æ™‚ã¯ã€Œå–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸã€ã¨è¡¨ç¤º
- æ­£å¸¸æ™‚ã¯ `ul > li` ã®å½¢å¼ã§ãƒ¡ãƒ¢ã®ã‚¿ã‚¤ãƒˆãƒ«ã‚’è¡¨ç¤º

---

## ğŸ”¸ è£œè¶³

ãƒ‡ãƒ¼ã‚¿å‡¦ç†éƒ¨åˆ†ã¯ã“ã¡ã‚‰ã‚’å‚è€ƒã«ã—ã¦ãã ã•ã„
``` typescript
// app/api/memos/route.ts

import { NextRequest, NextResponse } from "next/server";

// ãƒ¡ãƒ¢ãƒ‡ãƒ¼ã‚¿ã®ãƒ¢ãƒƒã‚¯ä¿å­˜å…ˆï¼ˆãƒ•ã‚¡ã‚¤ãƒ«å¤–éƒ¨ã§ã¯ãªãã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆé–“ã§å…±æœ‰ã—ãªã„æ“¬ä¼¼çŠ¶æ…‹ï¼‰
let memos = [
  { id: 1, title: "æœ€åˆã®ãƒ¡ãƒ¢" },
  { id: 2, title: "æ¬¡ã®ãƒ¡ãƒ¢" },
];

// GET: ä¸€è¦§å–å¾—
export async function GET() {
  return NextResponse.json(memos);
}

// POST: æ–°è¦ãƒ¡ãƒ¢è¿½åŠ ï¼ˆå—ã‘å–ã£ãŸãƒ‡ãƒ¼ã‚¿ã‚’é…åˆ—ã«è¿½åŠ ï¼‰
export async function POST(req: NextRequest) {
  const body = await req.json();

  const newMemo = {
    id: memos.length + 1,
    title: body.title ?? "(ç„¡é¡Œ)",
  };

  memos.push(newMemo);

  return NextResponse.json({ success: true, memo: newMemo });
}
```

<!-- èª²é¡Œã‚’æå‡ºã™ã‚‹éš›ã€ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«ä»¥ä¸‹ã‚’è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„

## ğŸ“Š è©•ä¾¡ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆï¼ˆWeek 13ï¼šAPIé€šä¿¡ - ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡ãƒ»ãƒ‡ãƒ¼ã‚¿å–å¾—ï¼‰

â€» å„è¦³ç‚¹ã”ã¨ã«ãƒã‚§ãƒƒã‚¯æ•°ã‚’æ•°ãˆã€ä¸‹è¨˜ãƒ«ãƒ¼ãƒ«ã§ç‚¹æ•°åŒ–  
ï¼ˆãƒã‚§ãƒƒã‚¯æ•° 0å€‹=0ç‚¹ / 1å€‹=1ç‚¹ / 2å€‹=3ç‚¹ / 3å€‹ä»¥ä¸Š=5ç‚¹ï¼‰

---

### ğŸ¯ æˆæœç‰©ï¼ˆã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã®å®Œæˆåº¦ï¼‰

- [ ] `fetch` ã‚’ä½¿ã£ãŸãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡ï¼ˆPOSTï¼‰ãŒå®Ÿè£…ã•ã‚Œã¦ã„ã‚‹
- [ ] Next.js API Routes ãŒ `/api/...` ã§å®šç¾©ã•ã‚Œã¦ã„ã‚‹
- [ ] `useSWR` ã§GETé€šä¿¡ã‚’è¡Œã„ã€ãƒ‡ãƒ¼ã‚¿ãŒç”»é¢ã«è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹
- [ ] `mutate()` ã§å†å–å¾—ãŒå®Ÿè£…ã•ã‚Œã¦ã„ã‚‹

---

### ğŸ“š çŸ¥è­˜ç†è§£ï¼ˆä»•çµ„ã¿ã‚„æ§‹æˆã®ç†è§£ï¼‰â€»ã‚„ã•ã—ã„ç‰ˆ

- [ ] `fetch` ã‚’ä½¿ã†ã¨ãƒ‡ãƒ¼ã‚¿ã‚’é€ä¿¡ãƒ»å–å¾—ã§ãã‚‹ã“ã¨ã‚’ç†è§£ã—ã¦ã„ã‚‹
- [ ] Next.jsã§ã¯ `pages/api/` é…ä¸‹ã§APIã‚’ä½œã‚Œã‚‹ã“ã¨ã‚’çŸ¥ã£ã¦ã„ã‚‹
- [ ] `useSWR` ã¯ãƒ‡ãƒ¼ã‚¿å–å¾—ã¨è‡ªå‹•æ›´æ–°ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã‚ã‚‹ã¨ç†è§£ã—ã¦ã„ã‚‹
- [ ] é€šä¿¡çŠ¶æ…‹ï¼ˆèª­ã¿è¾¼ã¿ä¸­ãƒ»å¤±æ•—ãƒ»æˆåŠŸï¼‰ã®è€ƒãˆæ–¹ã‚’ç†è§£ã—ã¦ã„ã‚‹

---

### ğŸ’¬ èª¬æ˜åŠ›ï¼ˆãªãœãã®æ§‹æˆã«ã—ãŸã‹ï¼‰â€»ã‚„ã•ã—ã„ç‰ˆ

- [ ] ã©ã‚“ãªãƒ‡ãƒ¼ã‚¿ã‚’é€ä¿¡ãƒ»å–å¾—ã—ã¦ã„ã‚‹ã‹èª¬æ˜ã§ãã‚‹
- [ ] APIã®å®šç¾©å ´æ‰€ãƒ»ä½¿ã„æ–¹ã‚’èª¬æ˜ã§ãã‚‹ï¼ˆä¾‹ï¼š`pages/api/memos.ts`ï¼‰
- [ ] `useSWR` ã®ä½¿ã„æ–¹ã‚„ã€ãªãœä½¿ã£ãŸã‹ã‚’èª¬æ˜ã§ãã‚‹
- [ ] é€šä¿¡çµæœã«å¿œã˜ã¦ã€ã©ã®ã‚ˆã†ãªUIåˆ¶å¾¡ã‚’ã—ãŸã‹è©±ã›ã‚‹

---

### ğŸ”§ è‡ªå·±ä¿®æ­£ï¼ˆä¿®æ­£ãƒ»æ”¹å–„ã®è‡ªèµ°åŠ›ï¼‰

- [ ] é€šä¿¡ã‚¨ãƒ©ãƒ¼ã‚„ãƒ‡ãƒ¼ã‚¿å–å¾—ãƒŸã‚¹ã‚’è‡ªåŠ›ã§ç™ºè¦‹ãƒ»ä¿®æ­£ã—ã¦ã„ã‚‹
- [ ] `fetch` ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/ãƒ¬ã‚¹ãƒãƒ³ã‚¹å½¢å¼ã‚’ç¢ºèªãƒ»èª¿æ•´ã—ã¦ã„ã‚‹
- [ ] APIã®æˆ»ã‚Šå€¤ã‚’æ•´å½¢ãƒ»æ‰±ã„ã‚„ã™ãã™ã‚‹ãªã©å·¥å¤«ã—ã¦ã„ã‚‹
- [ ] UIå´ã§ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ»ã‚¨ãƒ©ãƒ¼è¡¨ç¤ºã‚’å·¥å¤«ã—ã¦æ”¹å–„ã—ã¦ã„ã‚‹

---

ğŸ“ è©•ä¾¡è¦³ç‚¹ã”ã¨ã®ãƒã‚§ãƒƒã‚¯æ•°ã‚’æ•°ãˆã€ä»¥ä¸‹ã®ã‚ˆã†ã«ç‚¹æ•°ã«æ›ç®—ã—ã¦ãã ã•ã„ï¼š

| ãƒã‚§ãƒƒã‚¯æ•° | ç‚¹æ•° |
|------------|------|
| 0å€‹        | 0ç‚¹  |
| 1å€‹        | 1ç‚¹  |
| 2å€‹        | 3ç‚¹  |
| 3ã€œ4å€‹     | 5ç‚¹  |

-->