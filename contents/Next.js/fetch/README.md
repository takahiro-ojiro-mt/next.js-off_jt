# APIé€šä¿¡ï¼ˆãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡ãƒ»ãƒ‡ãƒ¼ã‚¿å–å¾—ï¼‰

## ğŸ¯ ç›®çš„

Next.js ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§å¤–éƒ¨ãƒ»å†…éƒ¨APIã¨é€£æºã™ã‚‹ãŸã‚ã«ã€  
API Routes ã®ä½œæˆã€ãƒ•ã‚©ãƒ¼ãƒ ã®é€ä¿¡ï¼ˆPOSTï¼‰ã€ãƒ‡ãƒ¼ã‚¿å–å¾—ï¼ˆGETï¼‰ã‚’å­¦ã¶ã€‚

---

## ğŸ¯ ä»Šé€±ã®ã‚´ãƒ¼ãƒ«

- Next.js ã® API Routes ã‚’ä½œæˆã—ã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å‡¦ç†ã‚’å®šç¾©ã§ãã‚‹
- `fetch` ã‚’ä½¿ã£ã¦ãƒ•ã‚©ãƒ¼ãƒ å†…å®¹ã‚’é€ä¿¡ã§ãã‚‹
- SWR ã‚’ä½¿ã£ã¦ API ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã¦è¡¨ç¤ºã§ãã‚‹
- ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ»ã‚¨ãƒ©ãƒ¼ãƒ»æˆåŠŸæ™‚ã®çŠ¶æ…‹ã‚’ç®¡ç†ã§ãã‚‹

---

## âœ… Next.js API Routes ã®ä½œæˆï¼ˆ/api/memosï¼‰

[ãƒªãƒ³ã‚¯](Next.js%20API%20Routes%20ã®ä½œæˆ.md)  

---

## âœ… fetch ã‚’ä½¿ã£ãŸãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡ï¼ˆPOSTï¼‰

[ãƒªãƒ³ã‚¯](fetch%20ã‚’ä½¿ã£ãŸãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡ï¼ˆPOSTï¼‰.md)  

---

## âœ… SWR ã‚’ä½¿ã£ãŸãƒ‡ãƒ¼ã‚¿å–å¾—ï¼ˆGETï¼‰

[ãƒªãƒ³ã‚¯](SWR%20ã‚’ä½¿ã£ãŸãƒ‡ãƒ¼ã‚¿å–å¾—ï¼ˆGETï¼‰.md)  

---

## âœ… æˆåŠŸãƒ»å¤±æ•—ãƒ»ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã®çŠ¶æ…‹åˆ¶å¾¡

[ãƒªãƒ³ã‚¯](ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ»ã‚¨ãƒ©ãƒ¼ãƒ»æˆåŠŸæ™‚ã®çŠ¶æ…‹åˆ¶å¾¡.md)  

---

## ğŸ”¹ èª²é¡Œå†…å®¹

ãƒ¡ãƒ¢ä¸€è¦§ãƒšãƒ¼ã‚¸ã§ã€APIã‹ã‚‰å–å¾—ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤ºã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

- ãƒ€ãƒŸãƒ¼APIï¼ˆä¾‹ï¼š`/api/memos`ï¼‰ã§ãƒ¡ãƒ¢ä¸€è¦§ã‚’è¿”ã™
- `useSWR` ã‚’ä½¿ã£ã¦ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ãƒ»ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°

---

## ğŸ”¹ å®Ÿè£…æ¡ä»¶

- `useSWR` ã‚’ä½¿ã£ã¦ `/api/memos` ã‚’å‘¼ã³å‡ºã™
- ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ä¸­ã¯ã€Œèª­ã¿è¾¼ã¿ä¸­...ã€ã‚’è¡¨ç¤º
- ã‚¨ãƒ©ãƒ¼æ™‚ã¯ã€Œå–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸã€ã¨è¡¨ç¤º
- æ­£å¸¸æ™‚ã¯ `ul > li` ã®å½¢å¼ã§ãƒ¡ãƒ¢ã®ã‚¿ã‚¤ãƒˆãƒ«ã‚’è¡¨ç¤º

---

## ğŸ”¸ è£œè¶³

ãƒ‡ãƒ¼ã‚¿å‡¦ç†éƒ¨åˆ†ã¯ã“ã¡ã‚‰ã‚’å‚è€ƒã«ã—ã¦ãã ã•ã„
``` typescript
// app/api/memos/route.ts

import { NextRequest, NextResponse } from "next/server";

// ãƒ¡ãƒ¢ãƒ‡ãƒ¼ã‚¿ã®ãƒ¢ãƒƒã‚¯ä¿å­˜å…ˆï¼ˆãƒ•ã‚¡ã‚¤ãƒ«å¤–éƒ¨ã§ã¯ãªãã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆé–“ã§å…±æœ‰ã—ãªã„æ“¬ä¼¼çŠ¶æ…‹ï¼‰
let memos = [
  { id: 1, title: "æœ€åˆã®ãƒ¡ãƒ¢" },
  { id: 2, title: "æ¬¡ã®ãƒ¡ãƒ¢" },
];

// GET: ä¸€è¦§å–å¾—
export async function GET() {
  return NextResponse.json(memos);
}

// POST: æ–°è¦ãƒ¡ãƒ¢è¿½åŠ ï¼ˆå—ã‘å–ã£ãŸãƒ‡ãƒ¼ã‚¿ã‚’é…åˆ—ã«è¿½åŠ ï¼‰
export async function POST(req: NextRequest) {
  const body = await req.json();

  const newMemo = {
    id: memos.length + 1,
    title: body.title ?? "(ç„¡é¡Œ)",
  };

  memos.push(newMemo);

  return NextResponse.json({ success: true, memo: newMemo });
}
```

---